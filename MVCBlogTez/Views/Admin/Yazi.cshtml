@model IEnumerable<MVCBlogTez.Models.Yazi>
@using MVCBlogTez.Func
@{
    ViewBag.Title = "Yazi";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

    <a class="btn btn-success mt-2" href="@Url.Action("YaziEkle", "Admin")">Yazı Ekle</a>

    <table class="table edit mt-2">
        <thead>
            <tr>
                <th scope="col">Fotoğraf</th>
                <th scope="col">Başlık</th>
                <th scope="col">İçerik</th>
                <th scope="col">Yorum Sayısı</th>
                <th scope="col">Oluşturan</th>
                <th scope="col">Kategori Ad</th>
                <th scope="col">Yayınlanma Tarihi</th>
                <th scope="col">İşlemler</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var Yazi in Model)
            {
                <tr>
                    <td scope="row"><img src="@Yazi.FotografKonum" width="100px" height="100px" /></td>
                    <td scope="row">@Yazi.Baslik</td>
                    <td scope="row" class="icerik">@(Html.Raw(Tool.MetinKisalt(Yazi.Icerik,300)))</td>
                    <td scope="row">@Yazi.YorumSayisi</td>
                    <td scope="row">@Yazi.Kullanici.Ad @Yazi.Kullanici.Soyad</td>
                    <td scope="row">@Yazi.Kategori.KategoriAd</td>
                    <td scope="row">@Yazi.YayinlanmaTarihi.ToString("dd MMM yyyy hh:mm")</td>
                    <td><a href="@Url.RouteUrl("Default", new { controller="Admin", action="YaziSil", id = Yazi.YaziId})" type="button" class="btn-danger mt-2">Sil</a></td>
                </tr>
            }
        </tbody>
    </table>
